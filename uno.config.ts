import { defineConfig, presetIcons, presetWind, presetWebFonts, transformerDirectives, transformerVariantGroup } from "unocss";

export default defineConfig({
  content: {
    pipeline: {
      include: [
        /\.(vue|svelte|[jt]sx|mdx?|astro|elm|php|phtml|html)($|\?)/,
        'src/**/*.{js,ts}',
        'data/**/*',
      ],
    },
    filesystem: [
        'data/**/*',
    ],
  },
  presets: [
    presetWind(),
    presetIcons({
      collections: {
        custom: {
          /* https://github.com/Remix-Design/RemixIcon */
          bluesky: `<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 11.388c-.906-1.761-3.372-5.044-5.665-6.662c-2.197-1.55-3.034-1.283-3.583-1.033C2.116 3.978 2 4.955 2 5.528c0 .575.315 4.709.52 5.4c.68 2.28 3.094 3.05 5.32 2.803c-3.26.483-6.157 1.67-2.36 5.898c4.178 4.325 5.726-.927 6.52-3.59c.794 2.663 1.708 7.726 6.444 3.59c3.556-3.59.977-5.415-2.283-5.898c2.225.247 4.64-.523 5.319-2.803c.205-.69.52-4.825.52-5.399c0-.575-.116-1.55-.752-1.838c-.549-.248-1.386-.517-3.583 1.033c-2.293 1.621-4.76 4.904-5.665 6.664"/></svg>`,
          /* Font Awesome 6 */
          "google-scholar": `<svg viewBox="0 0 512 512"><path fill="currentColor" d="m 357.175,287.875 c 0,0 0,0.075 0.075,0.075 6.9,14.55 10.8,30.825 10.8,48 C 367.975,397.825 317.875,448 256,448 194.125,448 144.025,397.825 144.025,336.025 c 0,-17.175 3.9,-33.45 10.8,-48 1.275,-2.7 2.7,-5.4 4.2,-8.025 q 4.95,-8.55 11.25,-15.975 c 20.55,-24.45 51.375,-39.975 85.8,-39.975 25.2,0 48.45,8.325 67.2,22.425 6.825,5.175 13.05,11.025 18.6,17.625 4.2,4.95 7.95,10.35 11.25,15.975 1.5,2.55 2.85,5.25 4.125,7.875 z m 19.8,-14.1 c -22.575,-43.8 -68.25,-73.8 -120.975,-73.8 -52.725,0 -98.4,30 -120.975,73.8 L 64,216.025 256,64 448,216.025 376.975,273.85 Z"/></svg>`,
          arxiv: `<svg viewBox="0 0 32 32"><path fill="currentColor" d="M 6.571429,4 C 5.151786,4 4,5.151786 4,6.571429 V 25.428571 C 4,26.848214 5.151786,28 6.571429,28 H 25.428571 C 26.848214,28 28,26.848214 28,25.428571 V 6.571429 C 28,5.151786 26.848214,4 25.428571,4 Z m 3.838392,3.428786 c 0.302036,0.0072 0.587733,0.35416 0.587733,0.35416 l 4.81591,4.62 3.493232,-3.167464 0.0066,-0.006 0.007,-0.0057 a 0.98571431,0.98571431 0 0 1 0.630857,-0.280715 l 1.87e-4,-6.44e-4 q 0.05496,0 0.109447,0.0073 a 1.2498214,1.2498214 0 0 1 0.817286,0.634875 c 0.138857,0.341679 0.01002,0.611197 -0.259286,0.961072 l -0.0036,0.0048 -0.004,0.0046 -3.013714,3.5595 0.872946,0.837321 c 0.590786,0.539893 0.587679,1.471447 -0.0068,2.007322 l -0.797089,0.741053 4.451035,5.357786 a 0.885,0.885 0 0 1 0.224036,0.818732 0.95571431,0.95571431 0 0 1 -0.635946,0.656357 0.87321431,0.87321431 0 0 1 -0.253554,0.0383 0.9375,0.9375 0 0 1 -0.636536,-0.263036 l -5.066625,-4.825178 -3.287625,3.056571 a 0.69910712,0.69910712 0 0 1 -0.527035,0.260411 0.78428569,0.78428569 0 0 1 -0.733019,-0.485893 c -0.119892,-0.287947 0.01296,-0.689089 0.227572,-0.917679 l 2.764178,-3.39525 -0.990696,-0.943553 c -0.66675,-0.66659 -0.635946,-1.628411 0.08089,-2.34509 l 0.850875,-0.796285 c 0,0 -3.844821,-4.616893 -4.222714,-5.172965 C 9.653335,8.373959 9.568853,8.175906 9.686496,7.893584 a 0.76767856,0.76767856 0 0 1 0.723321,-0.464785 m 9.541286,1.77 v 8.06e-4 a 0.75214287,0.75214287 0 0 0 -0.472125,0.225857 l -3.479732,3.155732 1.412946,1.355465 3.003161,-3.547394 c 0.278572,-0.362035 0.302464,-0.517124 0.224839,-0.707946 a 1.0125,1.0125 0 0 0 -0.612375,-0.477322 0.58928571,0.58928571 0 0 0 -0.07671,-0.0051 m -5.642036,4.904678 -0.851089,0.796339 c -0.582643,0.58259 -0.673125,1.377964 -0.07462,1.976464 l 7.608964,7.247411 a 0.68410713,0.68410713 0 0 0 0.459483,0.192161 0.61071429,0.61071429 0 0 0 0.178714,-0.02705 0.69964287,0.69964287 0 0 0 0.465268,-0.485197 c 0.06364,-0.210696 -0.02973,-0.397661 -0.179036,-0.584571 z" /></svg>` // @author: Simple Icons
        }
      }
    })
  ],
  transformers: [transformerDirectives(), transformerVariantGroup()],
  theme: {
    fontFamily: {
      sans: ['"Inter Variable"', 'sans-serif'],
      serif: ['"Roboto Slab Variable"', 'serif'],
      mono: ['"JetBrains Mono Variable"', 'monospace'],
    },
    colors: {
      accent: {
        50: "var(--accent-50)",
        100: "var(--accent-100)",
        200: "var(--accent-200)",
        300: "var(--accent-300)",
        400: "var(--accent-400)",
        500: "var(--accent-500)",
        600: "var(--accent-600)",
        700: "var(--accent-700)",
        800: "var(--accent-800)",
        900: "var(--accent-900)",
        950: "var(--accent-950)",
      },
      ocean: {
        50: "oklch(97.35% 0.02 225.19)",
        100: "oklch(94.01% 0.04 226.78)",
        200: "oklch(89.81% 0.07 226.58)",
        300: "oklch(84.47% 0.10 224.19)",
        400: "oklch(77.09% 0.14 232.33)",
        500: "oklch(68.54% 0.18 246.60)",
        600: "oklch(60.89% 0.21 256.78)",
        700: "oklch(55.97% 0.24 261.08)",
        800: "oklch(48.45% 0.21 261.13)",
        900: "oklch(38.22% 0.14 258.51)",
        950: "oklch(30.81% 0.10 258.80)",
      },
      martinique: {
        50: "oklch(96.45% 0.01 291.29)",
        100: "oklch(93.45% 0.02 291.36)",
        200: "oklch(88.05% 0.04 292.90)",
        300: "oklch(80.64% 0.07 293.21)",
        400: "oklch(73.20% 0.09 296.72)",
        500: "oklch(66.64% 0.12 299.78)",
        600: "oklch(59.71% 0.13 301.60)",
        700: "oklch(53.66% 0.13 303.19)",
        800: "oklch(46.61% 0.10 302.36)",
        900: "oklch(35.84% 0.06 301.89)",
        950: "oklch(29.34% 0.05 303.00)",
      },
      lightning: {
        50: "oklch(98.88% 0.02 98.63)",
        100: "oklch(96.58% 0.06 98.18)",
        200: "oklch(93.50% 0.12 98.61)",
        300: "oklch(89.56% 0.16 95.42)",
        400: "oklch(84.90% 0.17 87.76)",
        500: "oklch(78.77% 0.16 75.19)",
        600: "oklch(68.24% 0.15 63.10)",
        700: "oklch(56.78% 0.14 52.80)",
        800: "oklch(48.27% 0.12 49.45)",
        900: "oklch(42.20% 0.10 49.21)",
        950: "oklch(28.46% 0.07 49.51)",
      },
    },
  },
  shortcuts: {
    "text-plain": "text-gray-900 @dark:text-stone-200",
    "text-bright": "text-accent-600 @dark:text-accent-400",
    "text-emph": "text-accent-800 @dark:text-accent-200",
    "transition-lively": [
      "transition-all",
      "duration-100",
      "ease-in",
      "hover:duration-200",
      "hover:ease-out",
    ],
    "bg-box": "bg-accent-50 @dark:bg-accent-950",
    "btn-icon": "text-bright @hover:text-accent-500 cursor-pointer",
    "card": "bg-box px-4 pt-4 pb-6 rounded-4",
  },
  rules: [
    [
      /use-accent-(.+)/,
      ([, accent], { theme }) => {
        const colorVars: [string, string][] = [
          "50",
          "100",
          "200",
          "300",
          "400",
          "500",
          "600",
          "700",
          "800",
          "900",
          "950",
        ]
          .map(
            shade =>
              [`--accent-${shade}`, `${
                (theme.colors as any)?.[accent]?.[shade]
                ?? `var(--accent-${shade})`
              }`],
          );
        return Object.fromEntries(colorVars);
      },
    ],
  ],
  safelist: [
    "font-sans",
    "font-serif",
    "font-mono",
  ]
});
